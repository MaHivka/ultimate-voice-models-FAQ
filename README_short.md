# Универсальный ЧаВО для RVC и w-okada Voice Changer
## Собрано AlexeyArtemiev, BlackCat76iT, elektroeban, and1w и redoverflow для сервера [AI Hub](https://discord.gg/aihub)
### Полезные ссылки
Сборка w-okada voice changer под [AMD/Intel](<https://huggingface.co/wok000/vcclient000/resolve/main/MMVCServerSIO_win_onnxdirectML-cuda_v.1.5.3.13.zip>), [Nvidia](<https://huggingface.co/wok000/vcclient000/resolve/main/MMVCServerSIO_win_onnxgpu-cuda_v.1.5.3.13.zip>)
Полный архив Mangio-RVC-Fork для [инференса](<https://huggingface.co/MangioRVC/Mangio-RVC-Huggingface/resolve/main/Mangio-RVC-v23.7.0_INFER.7z>), [инференса и тренировки](<https://huggingface.co/MangioRVC/Mangio-RVC-Huggingface/resolve/main/Mangio-RVC-v23.7.0_INFER_TRAIN.7z>)
[Батник для установки Applio-RVC-Fork](<https://github.com/IAHispano/Applio-RVC-Fork/raw/main/go-applio-manager.bat>)
Модели [тут](https://discord.com/channels/1089076875999072296/1099149801054019604)

### Парочку предупреждений
Если у вас проблемы с **Colab/Коллабом**, не пишите сюда. Гугл забанили RVC, и мы ничего не можем с этим сделать. Либо пользуйтесь **[Kaggle](https://www.kaggle.com/iahispano/applio-rvc-fork/)**, либо купите нормальное железо для локальной установки.
Если у вас проблемы с **локальной установкой RVC/w-okada Voice Changer**, то попробуйте переместить на диск C и проверьте, есть ли пробелы и русские символы на пути к папке, прежде чем писать сюда в чат.

**Achtung!** Если у вас появляются ошибки, то не стесняйтесь писать в чат, но если в чате нет или вовсе превышает актив, то ваше сообщение может затеряться, повторять много раз не стоит.

Не бойтесь экспериментировать! Данные ИИ вреда не принесут!

## RVC
RVC - это ИИ для замены вокала и создания собственных моделей, проще говоря, если вы хотите делать каверы и создать запись голоса друга или свою, то вам сюда.

### Установка
Предисловие, если у вас нет ПК, то вы можете попробовать использовать Colab, но через телефон это не весьма удобно.

### Важные требования к ПК:
Видеокарта, у которой будет не менее 4-х гб видеопамяти
Оперативная память не менее 8гб (желательно подкрутить файл подкачки если у вас 16гб и ниже)

Если вы удостоверились, что ваш компьютер сможет выдержать RVC или вы просто хотите протестить его на стресс, то переходим к следующему этапу.

### Процесс установки RVC:
В начале есть гиперссылка на RVC, скачайте его.
После загрузки архива распакуйте его по пути, который не содержит пробелы и русские символы
Запустите go-web.bat (для создания кавера), либо go-realtime.bat (для изменения голоса в реальном времени)
Дождитесь запуска RVC...
Поздравляем! У вас получилось запустить RVC!

Если вы запустили go-realtime.bat, то переходите на вторую часть FAQ, поскольку информация дальше идет для go-web.bat.

### Создание кавера
Прежде чем вы начнете делать свой кавер вам нужно будет отделить вокал от инструментала, делается это двумя способами:
UVR (ИИ, которое вы должны установить на свой пк)

### Сторонние сайты
Пока лучше всех [MVSep](https://mvsep.com/), на нём есть модели с UVR. (если зарегистрироваться, то очередь будет значительно меньше)

### Программы
Конечно, лучше всего UVR (Ultimate Vocal Remover). Гайда на него не будет, но если вы разобрались, как им пользоваться, то вот самые лучшие модели:
- MDX-NET Voc_FT
  Лучше всех отделяет вокал от песен, также справляется с инструменталом хорошо.
- MDX-NET Inst HQ 3
  Хорошая модель для инструментала.
- VR Arch 6_HP/5_HP
  Отделение гармоний и фоновых голосов от вокала.
- UVR-DeEcho-DeReverb
  Очистка вокала от эхо и реверба.

## w-okada Voice Changer
### AMD/Intel
Минимальные системные требования для ~500ms задержки без игр: современный 6-ти ядерник или 8-ми постарше (8700, 10400f, 3600, 5600, может и ниже подойти, но не I5 4-го поколения (например), FX8350 из амд может работать, про феномы не знаю), карты уровня 1070/1660s/3050 и 16 гигов оперативки. 

Универсальные настройки для систем как выше: chunk 256 extra 16384 f0 rmvpe. Может чуть разниться в шаг/два CHUNK.

Чем лучше карта, тем меньше задержку можете сделать. Чем лучше процессор, тем больше экстра можете выставить.

Если микрофон улавливает шумы с наушников или просто он не очень хороший, то тыкаем на галки Echo, Sup1, Sup2 и смотрим на результат.

S.Thresh лучше оставить на нуле (если модель хорошая), либо ставить не выше половины. Все зависит от модели.

GAIN IN - входящая громкость ВАШЕГО микрофона, GANE OUT - выходящая громкость уже измененного голоса. Тут по ситуации. 

Tune - тон. Зависит от модели и вашего голоса. Очень грубо, но для женского с мужского нужно +12, наоборот -12. Вам самим предстоит найти нужное значение.

INDEX - лучше не трогайте, особенно если у вас слабый проц. На личном опыте не использую, только в двух из ~40 моделей результат становился лучше.

Для вывода звука в дискорд качаем Virtual Cable - https://vb-audio.com/Cable/ и выставляем в AUDIO Output CABLE Input. В дискорде выбираем CABLE Output.

Для AMD пользователей: выбирайте gpu0. Минимальные системки неизвестны, но RX580 не подойдет. Если заставите заработать с нормальной задержкой, то отпишитесь. Добавлю сюда. 

Универсальные настройки: F0 rmvpe_onnx, CHUNK 192, EXTRA 8-16к. Все индивидуально и пока что мало информации, пробуйте разные настройки.

По имеющейся информации лучше ставить onnx модели, но их мало. Добавлять их как обычные RVC2, только вместо .pth - .onnx
Конвертировать их можете прямо в программе, вставив RVC2 модель и нажав export to onnx. Если крашит, то увеличивайте файл подкачки. 

### КОНВЕРТАЦИЯ В ONNX ВЫЛЕТАЕТ С ОШИБКОЙ ЧТО ДЕЛАТЬ.
Видеокарта NVIDIA:
Наверняка у вас нехватка видеопамяти, в консоли программа об этом вам говорит,   "PyTorch CUDA OUT OF MEMORY". Переключите с GPU на CPU и попробуйте снова, конвертация занимает примерно 18 Гб оперативки, поэтому если у вас меньше 32ГБ, повышайте файл подкачки и ждите.
Пользователям NVIDIA смысла использовать ONNX нет, прироста производительности нет, и в добавок к этому ONNX потребляет ~500 дополнительных мегабайт видеопамяти, например было 3.5GB с .pth, а стало 3.9GB с .onnx; Вывод: ONNX используют только для AMD.

Видеокарта AMD:
Наверняка все тоже самое... 

### NVIDIA
пока нету ничего но вроде проблем меньше чем с amd/intel
